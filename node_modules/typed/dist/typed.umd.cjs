(function(i,O){typeof exports=="object"&&typeof module!="undefined"?O(exports):typeof define=="function"&&define.amd?define(["exports"],O):(i=typeof globalThis!="undefined"?globalThis:i||self,O(i.typed={}))})(this,function(i){"use strict";function O(n,r){return r instanceof n}function b(n){return typeof n=="string"}function g(n){return typeof n=="number"&&Number.isFinite(n)}function N(n){return typeof n=="boolean"}function _(n){return typeof n=="bigint"}function M(n){return typeof n=="symbol"}function k(n){return typeof n=="undefined"}function y(n){return typeof n=="function"}function A(n){return n===null}function p(n){return A(n)||k(n)}const J=[b,g,N,A,k,_,M];function B(n){return J.some(r=>r(n))}function F(n){return O(Date,n)&&g(n.getTime())}function P(n){return Array.isArray(n)}function S(n){if(B(n))return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype}function V(n){if(p(n))return!1;const r=Object(n);return Symbol.iterator in r&&y(r[Symbol.iterator])}function G(n){return typeof n=="object"&&n!==null&&"then"in n&&y(n.then)}function T(n){return!p(n)}function H(n){return O(RegExp,n)}function K(n){return O(Set,n)}function Q(n){return O(Map,n)}function D(n){return n>0}function W(n){return!D(n)}function L(n){return Number.isInteger(n)}function X(n){return!L(n)}function q(n){return n%2===0}function Y(n){return!q(n)}function Z(n){if(n<2)return!1;const r=Math.sqrt(n);for(let e=2;e<=r;e++)if(n%e===0)return!1;return!0}function E(n){throw b(n)?new Error(n):n}function $(n,r="Assertion failed"){n||E(r)}function x(n){return n}function c(n){return{and:()=>c(n),andThen:()=>c(n),err:()=>d(n),expect:r=>E(r),expectErr:()=>n,inspect:()=>c(n),inspectErr:r=>(r(n),c(n)),isErr:()=>!0,isErrAnd:r=>r(n),isOk:()=>!1,isOkAnd:()=>!1,map:()=>c(n),mapErr:r=>c(r(n)),mapOr:r=>r,mapOrElse:r=>r(n),match:(r,e)=>e(n),ok:()=>f,or:r=>r,orElse:r=>r(n),unwrap:()=>E("called Result.unwrap on an `Err` value"),unwrapErr:()=>n,unwrapOr:r=>r,unwrapOrElse:r=>r(n)}}function s(n){return{and:r=>r,andThen:r=>r(n),err:()=>f,expect:()=>n,expectErr:r=>E(r),inspect:r=>(r(n),s(n)),inspectErr:()=>s(n),isErr:()=>!1,isErrAnd:()=>!1,isOk:()=>!0,isOkAnd:r=>r(n),map:r=>s(r(n)),mapErr:()=>s(n),mapOr:(r,e)=>e(n),mapOrElse:(r,e)=>e(n),match:r=>r(n),ok:()=>d(n),or:()=>s(n),orElse:()=>s(n),unwrap:()=>n,unwrapErr:()=>E("called Result.unwrapErr on an `Ok` value"),unwrapOr:()=>n,unwrapOrElse:()=>n}}function v(n){try{return s(n())}catch(r){return c(r)}}function U(n){return y(n)?U(n()):n.then(s).catch(c)}function nn(n){return S(n)&&"isOk"in n&&y(n.isOk)&&"isErr"in n&&y(n.isErr)}const f=rn();function rn(){return{and:()=>f,andThen:()=>f,expect:n=>E(n),filter:()=>f,inspect:()=>f,isNone:()=>!0,isSome:()=>!1,isSomeAnd:()=>!1,map:()=>f,mapOr:n=>n,mapOrElse:n=>n(),match:(n,r)=>r(),or:n=>n,orElse:n=>n(),unwrap:()=>E("called Option.unwrap on a `None` value"),unwrapOr:n=>n,unwrapOrElse:n=>n(),okOr:n=>c(n),okOrElse:n=>c(n())}}function d(n){return{and:r=>r,andThen:r=>r(n),expect:()=>n,filter:r=>r(n)?d(n):f,inspect:r=>(r(n),d(n)),isNone:()=>!1,isSome:()=>!0,isSomeAnd:r=>r(n),map:r=>d(r(n)),mapOr:(r,e)=>e(n),mapOrElse:(r,e)=>e(n),match:r=>r(n),or:()=>d(n),orElse:()=>d(n),unwrap:()=>n,unwrapOr:()=>n,unwrapOrElse:()=>n,okOr:()=>s(n),okOrElse:()=>s(n)}}function I(n){return T(n)?d(n):f}function en(n){return S(n)&&"isSome"in n&&y(n.isSome)&&"isNone"in n&&y(n.isNone)}function h(n,r){return r<0?n.length+r:r}function R(n,r){return I(n[h(n,r)])}function tn(n,r,e){e=h(n,e);const t=[...n];return t.splice(e,0,r),t}function on(n,r,e){r=h(n,r),e=h(n,e);const t=[...n],o=t.splice(r,1)[0];return t.splice(e,0,o),t}function sn(n,r){r=h(n,r);const e=[...n];return e.splice(r,1),e}function cn(n){const r=[...n];for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),o=r[e];r[e]=r[t],r[t]=o}return r}function un(n,r,e){r=h(n,r),e=h(n,e);const t=[...n],o=t[r];return t[r]=t[e],t[e]=o,t}function fn(n,r,e=1){const t=[];let o=n;for(;o<=r;)t.push(o),o+=e;return t}function z(n,r){const e=Object.create(null);for(let t=0;t<n.length;t++){const o=n[t],l=r(o,t);l in e||(e[l]=[]),e[l].push(o)}return e}function an(n,r){return z(n,e=>e[r])}function u(n){const r=k(n)?[]:Array.isArray(n)?n:Array.from(n);return{*[Symbol.iterator](){yield*r[Symbol.iterator]()},append:(...e)=>u([...r,...e]),at:e=>R(r,e),concat:e=>u([...r,...e]),compact:()=>u(r.filter(T)),drop:e=>u(r.slice(e)),each:e=>(r.forEach(e),u(r)),every:e=>r.every(e),filter:e=>u(r.filter(e)),find:e=>I(r.find(e)),first:()=>R(r,0),group:e=>z(r,e),groupBy:e=>an(r,e),includes:e=>r.includes(e),insert:(e,t)=>u(tn(r,e,t)),isEmpty:()=>r.length===0,last:()=>R(r,-1),len:()=>r.length,map:e=>u(r.map(e)),move:(e,t)=>u(on(r,e,t)),prepend:(...e)=>u([...e,...r]),reduce:(e,t)=>r.reduce(t,e),remove:e=>u(sn(r,e)),reverse:()=>u([...r].reverse()),shuffle:()=>u(cn(r)),some:e=>r.some(e),sort:e=>u([...r].sort(e)),swap:(e,t)=>u(un(r,e,t)),take:e=>u(r.slice(0,e)),toArray:()=>[...r],toJSON:()=>[...r]}}function a(){return{path:[],message:"",actual:"",expected:""}}const C=n=>r=>{if(!P(r))return c(a());const e=new Array(r.length);for(let t=0;t<r.length;t++){const o=n(r[t]);if(o.isErr())return c(o.unwrapErr());e.push(o.unwrap())}return s(e)},ln=n=>r=>{if(n!=null&&n.coerce)if(b(r))switch(r.toLowerCase()){case"true":case"yes":case"on":{r=!0;break}default:r=!1}else r=Boolean(r);return N(r)?s(r):c(a())};function dn(n,...r){return e=>n(e).andThen(t=>s(r.reduce((o,l)=>l(o),t)))}const mn=n=>r=>(n!=null&&n.coerce&&(g(r)||b(r))&&(r=new Date(r)),F(r)?s(r):c(a())),On=(n,r)=>e=>p(e)?s(r):n(e),yn=n=>{const r=Object.values(n);return e=>r.includes(e)?s(e):c(a())},En=n=>r=>{const e=Object.create(null);for(const t of n){const o=t(r);if(o.isErr())return c(o.unwrapErr());Object.assign(e,o.unwrap())}return s(e)},hn=n=>{const r=C(n);return e=>r(e).andThen(t=>s(u(t)))},bn=n=>r=>r===n?s(r):c(a());function wn(n,r){return e=>n(e).andThen(r)}const gn=n=>r=>(n!=null&&n.coerce&&(r=Number(r)),g(r)?s(r):c(a()));function pn(n){const r=Object.entries(n);return e=>{if(!S(e))return c(a());const t=Object.create(null);for(const[o,l]of r){const m=l(t[o]);if(m.isErr())return c(m.unwrapErr())}return s(t)}}const Sn=Object.freeze(Object.defineProperty({__proto__:null,array:C,boolean:ln,chain:dn,date:mn,defaulted:On,enums:yn,intersection:En,list:hn,literal:bn,map:wn,number:gn,object:pn,optional:n=>r=>p(r)?s(f):n(r).andThen(e=>s(d(e))),record:(n,r)=>e=>{if(!S(e))return c(a());const t=Object.create(null);for(const[o,l]of Object.entries(e)){const m=n(o);if(m.isErr()){const j=m.unwrapErr();return j.path.unshift(o),c(j)}const w=r(l);if(w.isErr()){const j=w.unwrapErr();return j.path.unshift(o),c(j)}t[m.unwrap()]=w.unwrap()}return s(t)},string:n=>r=>(n!=null&&n.coerce&&(r=String(r)),b(r)?s(n!=null&&n.trim?r.trim():r):c(a())),tuple:n=>{const r=[...n.entries()];return e=>{if(!P(e))return c(a());const t=new Array(n.length);for(const[o,l]of r){const m=l(e[o]);if(m.isErr()){const w=m.unwrapErr();return w.path.unshift(o.toString()),c(w)}t[o]=m.unwrap()}return s(t)}},union:n=>r=>{for(const e of n){const t=e(r);if(t.isOk())return s(t.unwrap())}return c(a())},unknown:n=>s(n)},Symbol.toStringTag,{value:"Module"}));i.Err=c,i.List=u,i.None=f,i.Ok=s,i.Some=d,i.assert=$,i.identity=x,i.isArray=P,i.isBigInt=_,i.isBoolean=N,i.isDate=F,i.isEven=q,i.isFloat=X,i.isFunction=y,i.isInstanceOf=O,i.isInteger=L,i.isIterable=V,i.isMap=Q,i.isNegative=W,i.isNil=p,i.isNull=A,i.isNumber=g,i.isOdd=Y,i.isOption=en,i.isPlainObject=S,i.isPositive=D,i.isPresent=T,i.isPrime=Z,i.isPrimitive=B,i.isPromise=G,i.isRegExp=H,i.isResult=nn,i.isSet=K,i.isString=b,i.isSymbol=M,i.isUndefined=k,i.raise=E,i.range=fn,i.t=Sn,i.toAsyncResult=U,i.toOption=I,i.toResult=v,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=typed.umd.cjs.map
